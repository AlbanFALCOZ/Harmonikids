<app-navbar></app-navbar>
<div class="content-question">
  <ng-container *ngIf="questionList.length > 0 && currentQuestionIndex < questionList.length">

    <app-multi-choice *ngIf="questionList[currentQuestionIndex]?.typeOfQuestion !== 'drag-and-drop' && questionList[currentQuestionIndex]?.typeOfQuestion !== 'guess-the-sound'"
      [question]="questionList[currentQuestionIndex]" [answerAlreadySeleted]="selectedAnswer" (answerSelected)="onAnswerSelected($event)">
    </app-multi-choice>

    <app-drag-drop *ngIf="questionList[currentQuestionIndex]?.typeOfQuestion === 'drag-and-drop'"
      [drag]="questionList[currentQuestionIndex]">
    </app-drag-drop>

    <app-sound-question *ngIf="questionList[currentQuestionIndex]?.typeOfQuestion === 'guess-the-sound'"
      [sound]="questionList[currentQuestionIndex]" (answerSelected)="onAnswerSelected($event)">
    </app-sound-question>
  </ng-container>



  <div class="progress-container">
    <progress [value]="currentQuestionIndex+1" [max]="questionList.length"></progress>
  </div>
  

  <div class="quiz_setting">
    <div>
      <span class="material-symbols-outlined toggle toggle_on">toggle_on</span>
      <span class="material-symbols-outlined toggle toggle_off">toggle_off</span>
      <p>indice</p>

    </div>
    <div>
      <span class="material-symbols-outlined volume volume_up">volume_up</span>
      <span class="material-symbols-outlined volume volume_off">volume_off</span>
      <p>son</p>
    </div>
  </div>

</div>

<div class="quiz-btn">
  <button class="precedent" (click)="previousQuestion()">Précédent</button>
    <ng-container *ngIf="questionList[currentQuestionIndex]?.typeOfQuestion !== QuestionType.DragAndDrop">
    <button class="validate" [style.visibility]="questionCleared.includes(currentQuestionIndex) ? 'hidden' : 'visible'" (click)="validateQuestion()">Valider</button>
  </ng-container>

  <button type="submit" class="suivant" (click)="nextQuestion()">Suivant</button>
</div>


<div class="messageSuccess" *ngIf="showSuccessMessage" >
  Bravo ! Tu as trouvé la bonne réponse !
</div>

<div class="messageFailure" *ngIf="showFailureMessage" >
  Dommage, la réponse est incorrecte ou incomplète.
</div>


<div *ngIf="showFailureMessage && (hintText || hintImageUrl)" class="hint">
  <p *ngIf="hintText">{{ hintText }}</p>
  <img *ngIf="hintImageUrl" [src]="hintImageUrl" alt="Indice">
</div>